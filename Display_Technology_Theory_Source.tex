\documentclass[11pt,a4paper,twoside]{book}

% ============================================================================
% PACKAGES
% ============================================================================
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{amsmath,amssymb,amsfonts}
\usepackage{mathtools}
\usepackage{physics}
\usepackage[dvipsnames,svgnames,x11names]{xcolor}
\usepackage{tikz}
\usetikzlibrary{positioning,shapes,arrows,patterns,decorations.pathreplacing}
\usepackage{pgfplots}
\pgfplotsset{compat=1.18}
\usepackage{graphicx}
\usepackage[margin=2.5cm]{geometry}
\usepackage{fancyhdr}
\usepackage{titlesec}
\usepackage{tocloft}
\usepackage{hyperref}
\usepackage{cleveref}
\usepackage{algorithm}
\usepackage{algpseudocode}
\usepackage{listings}
\usepackage{booktabs}
\usepackage{multirow}
\usepackage{array}
\usepackage{float}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{wrapfig}
\usepackage[most]{tcolorbox}
\usepackage{enumitem}

% ============================================================================
% COLOR SCHEME
% ============================================================================
\definecolor{primarycolor}{RGB}{41, 128, 185}      % Blue
\definecolor{secondarycolor}{RGB}{52, 73, 94}      % Dark Blue-Gray
\definecolor{accentcolor}{RGB}{231, 76, 60}        % Red
\definecolor{successcolor}{RGB}{46, 204, 113}      % Green
\definecolor{warningcolor}{RGB}{241, 196, 15}      % Yellow
\definecolor{codecolor}{RGB}{142, 68, 173}         % Purple
\definecolor{formulaback}{RGB}{250, 250, 250}      % Very light gray
\definecolor{definitionback}{RGB}{232, 245, 233}   % Light green
\definecolor{exampleback}{RGB}{255, 249, 235}      % Light yellow
\definecolor{importantback}{RGB}{255, 235, 238}    % Light red

% ============================================================================
% HYPERREF SETUP
% ============================================================================
\hypersetup{
    colorlinks=true,
    linkcolor=primarycolor,
    citecolor=successcolor,
    urlcolor=accentcolor,
    bookmarksnumbered=true,
    bookmarksopen=true,
    pdfauthor={Display Technology Research},
    pdftitle={Display Technology: Complete Theoretical Foundation}
}

% ============================================================================
% HEADERS AND FOOTERS
% ============================================================================
\pagestyle{fancy}
\fancyhf{}
\fancyhead[LE]{\textcolor{secondarycolor}{\nouppercase{\leftmark}}}
\fancyhead[RO]{\textcolor{secondarycolor}{\nouppercase{\rightmark}}}
\fancyfoot[C]{\textcolor{secondarycolor}{\thepage}}
\renewcommand{\headrulewidth}{0.5pt}
\renewcommand{\footrulewidth}{0pt}

% ============================================================================
% TITLE FORMATTING
% ============================================================================
\titleformat{\chapter}[display]
  {\normalfont\huge\bfseries\color{primarycolor}}
  {\filleft\Huge\color{secondarycolor}\chaptertitlename\ \thechapter}
  {4ex}
  {\titlerule\vspace{2ex}\filleft}
  [\vspace{2ex}\titlerule]

\titleformat{\section}
  {\normalfont\Large\bfseries\color{primarycolor}}
  {\thesection}{1em}{}

\titleformat{\subsection}
  {\normalfont\large\bfseries\color{secondarycolor}}
  {\thesubsection}{1em}{}

% ============================================================================
% CUSTOM BOXES
% ============================================================================
\newtcolorbox{definitionbox}[1]{
  colback=definitionback,
  colframe=successcolor,
  fonttitle=\bfseries,
  title=#1,
  arc=2mm
}

\newtcolorbox{formulabox}[1]{
  colback=formulaback,
  colframe=codecolor,
  fonttitle=\bfseries,
  title=#1,
  arc=2mm
}

\newtcolorbox{examplebox}[1]{
  colback=exampleback,
  colframe=warningcolor,
  fonttitle=\bfseries,
  title=#1,
  arc=2mm
}

\newtcolorbox{importantbox}[1]{
  colback=importantback,
  colframe=accentcolor,
  fonttitle=\bfseries,
  title=#1,
  arc=2mm,
  boxrule=2pt
}

% ============================================================================
% CODE LISTINGS
% ============================================================================
\lstset{
  basicstyle=\ttfamily\small,
  keywordstyle=\color{primarycolor}\bfseries,
  commentstyle=\color{successcolor}\itshape,
  stringstyle=\color{accentcolor},
  backgroundcolor=\color{formulaback},
  frame=single,
  rulecolor=\color{codecolor},
  numbers=left,
  numberstyle=\tiny\color{secondarycolor},
  breaklines=true,
  captionpos=b
}

% ============================================================================
% CUSTOM COMMANDS
% ============================================================================
\newcommand{\lum}{\mathcal{L}}
\newcommand{\illum}{\mathcal{E}}
\newcommand{\gammaexp}{\gamma}
\newcommand{\cd}{\text{cd/m}^2}
\newcommand{\lux}{\text{lux}}
\newcommand{\nits}{\text{nits}}
\newcommand{\kelvin}{\text{K}}

% ============================================================================
% DOCUMENT INFORMATION
% ============================================================================
\title{
  \Huge\textbf{\textcolor{primarycolor}{Display Technology}}\\
  \vspace{0.5cm}
  \Large\textcolor{secondarycolor}{Complete Theoretical Foundation}\\
  \vspace{0.3cm}
  \large\textit{From First Principles to Advanced Implementation}
}
\author{
  \textcolor{secondarycolor}{Graduate-Level Reference}
}
\date{\textcolor{secondarycolor}{\today}}

% ============================================================================
% DOCUMENT START
% ============================================================================
\begin{document}

% Front matter
\frontmatter
\maketitle

\clearpage
\thispagestyle{empty}
\vspace*{\fill}
\begin{center}
\begin{minipage}{0.8\textwidth}
\textit{\large This comprehensive theoretical foundation covers all aspects of display technology from fundamental psychophysics through advanced HDR and chromatic adaptation. With complete mathematical derivations, practical examples, and professional visualizations, this work serves as the definitive reference for display engineers and researchers.}
\end{minipage}
\end{center}
\vspace*{\fill}

\tableofcontents
\listoffigures
\listoftables

% Main matter
\mainmatter

% -----------------------------------------------------------------------------
% Modular compilation controls (Overleaf):
% Uncomment and list only chapters you are editing for much faster compile times.
% Example:
% \includeonly{
%   chapters/04_display_gamma_theory,
%   chapters/05_hdr_transfer_functions
% }
% -----------------------------------------------------------------------------

\include{chapters/01_human_vision_and_perception}
\include{chapters/02_radiometry_and_photometry}
\include{chapters/03_subpixel_layouts}
\include{chapters/04_display_gamma_theory}
\include{chapters/05_hdr_transfer_functions}
\include{chapters/06_cie_color_spaces}
\include{chapters/07_chromatic_adaptation}
\include{chapters/08_color_difference_metrics}
\include{chapters/09_reflection_physics}
\include{chapters/10_true_tone_technology}
\include{chapters/11_local_dimming_and_blooming_control}
\include{chapters/12_vr_and_ar_display_requirements}
\include{chapters/13_quantum_dot_technology}
\include{chapters/14_micro_led_future_technology}
\include{chapters/15_display_driver_ics}
\include{chapters/16_subpixel_rendering_algorithms}
\include{chapters/17_fill_factor_and_optical_efficiency}
\include{chapters/18_advanced_colorimetry}
\include{chapters/19_hdr_tone_mapping}
\include{chapters/20_display_measurement_and_calibration}
\include{chapters/21_manufacturing_and_yield_optimization}
\include{chapters/22_power_management}
\include{chapters/23_complete_formula_reference}
\include{chapters/24_standard_illuminants}
\include{chapters/25_color_matching_functions}

\backmatter
\bibliographystyle{plain}
% \bibliography{references}

\end{document}
